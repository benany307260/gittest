
 <!DOCTYPE html>
<html lang="zh-CN" xmlns:th="http://www.thymeleaf.org" >
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=10.000"/>
        <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
        <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
        <meta http-equiv="cache-control" content="no-cache,no-store"/>
        <meta http-equiv="pragma" content="no-cache"/>
        <meta http-equiv="expires" content="-1"/>
        <meta name='mswebdialog-title' content='正在连接到 LKKHPG GROUP'/>

        <title>登录</title>


        
        <link rel="stylesheet" type="text/css" href="css/style.css" />
        <style>.illustrationClass {background-image:url(../image/illustration.jpg);}</style>
		<script src="./commonjs/jquery3.1.1.min.js"></script>
		<script src="./commonjs/jquery.cookie.js"></script>
		
		<script th:inline="javascript">
            //通过token判断是否登录状态
            (function () {
                function urlredirect() {
                	var token = $.cookie('Token');
                	var AppID = [[${AppID}]];
                	var returnUrl = [[${returnUrl}]];
                	// 有token，直接登录
                	if(token != null && token.length > 0)
                	{
                		$(location).attr('href', '/loginWithToken?Token='+token+'&returnUrl='+returnUrl+'&AppID='+AppID);
                	}
                	// 有token，表示已登录，后续请求接口可以直接用
                }
                urlredirect();
            })();
            
        </script>
    </head>
    <body dir="ltr" class="body">
    <div id="noScript" style="position:static; width:100%; height:100%; z-index:100">
        <h1>需要提供 JavaScript</h1>
        <p>需要提供 JavaScript。此 Web 浏览器不支持 JavaScript，或者未启用此 Web 浏览器中的 JavaScript。</p>
        <p>要了解你的 Web 浏览器是否支持 JavaScript，或者要启用 JavaScript，请参阅 Web 浏览器帮助。</p>
    </div>
    <script type="text/javascript" language="JavaScript">
         document.getElementById("noScript").style.display = "none";
    </script>
    <div id="fullPage">
        <div id="brandingWrapper" class="float">
            <div id="branding" class="illustrationClass"></div>
        </div>
        <div id="contentWrapper" class="float">
            <div id="content">
                <div id="header">
                    <img class="logoImage" src="image/logo.png" alt="LKKHPG GROUP"/>
                </div>
                <div id="workArea">
                    
    <div id="authArea" class="groupMargin">
        
        
    <div id="loginArea">        
        <div id="loginMessage" class="groupMargin">使用你的组织帐户登录</div>

        <form method="post" id="loginForm" autocomplete="off" novalidate="novalidate" onKeyPress="if (event && event.keyCode == 13) submitUserLogin();" action="" >
            
            <input type="hidden" id="AppID" name="AppID" th:value="${AppID}" />
			<input type="hidden" id="returnUrl" name="returnUrl" th:value="${returnUrl}" />
			<input type="hidden" id="errMsg" name="errMsg" th:value="${errMsg}" />
            
            <div id="error" class="fieldMargin error smallText">
                <label id="errorText" for=""></label>
            </div>

            <div id="formsAuthenticationArea">
                <div id="userNameArea">
                    <input id="userNameInput" name="UserName" type="email" value="" tabindex="1" class="text fullWidth" 
                        spellcheck="false" placeholder="someone@example.com" autocomplete="off"/>     
                </div>

                <div id="passwordArea">
                     <input id="passwordInput" name="Password" type="password" tabindex="2" class="text fullWidth" 
                        placeholder="密码" autocomplete="off"/>                                   
                </div>
                <div id="kmsiArea" style="display:none">
                    <input type="checkbox" name="Kmsi" id="kmsiInput" value="true" tabindex="3" />
                    <label for="kmsiInput">使我保持登录状态</label>
                </div>
                
                <div>
                	<div id="error" class="fieldMargin error smallText" style="text-indent: 0px;">
                		<label id="errorText" th:text="${errMsg}" for=""></label>
            		</div>
            	</div>
                
                <div id="submissionArea" class="submitMargin">
                    <span id="submitButton" class="submit" tabindex="4" 
                        onKeyPress="if (event && event.keyCode == 32) submitUserLogin();" 
                        onclick="return submitUserLogin();">登录</span>
                </div>
            </div>
            <input id="optionForms" type="hidden" name="AuthMethod" value="FormsAuthentication"/>
        </form>

             <div id="authOptions">
        <form id="options"  method="post" action="https://adfs.infinitus-int.com:443/adfs/ls/?wa=wsignin1.0&wtrealm=https%3a%2f%2fadfs.infinitus-int.com%3a8000%2f&wctx=rm%3d0%26id%3dpassive%26ru%3d%252flogin.aspx&wct=2018-11-01T08%3a24%3a22Z&wreply=https%3a%2f%2fadfs.infinitus-int.com%3a8000%2fWebForm2.aspx">
            <script type="text/javascript">
                function SelectOption(option) {
                    var i = document.getElementById('optionSelection');
                    i.value = option;
                    document.forms['options'].submit();
                    return false;
                }
            </script>
            <input id="optionSelection" type="hidden" name="AuthMethod" />
            <div class='groupMargin'></div>
        </form>
      </div>

        <div id="introduction" class="groupMargin">
                                 
        </div>

    </div>

    </div>

                </div>
                <div id="footerPlaceholder"></div>
            </div>
            <div id="footer">
                <div id="footerLinks" class="floatReverse">
                     <div><span id="copyright">&#169; 2013 Microsoft</span></div>
                </div>
            </div>
        </div> 
    </div>

		<script src="./js/login.js"></script>
    </body>
</html> 

